<div class="create-session">
  <div class="create-session-content">
    <div class="session-header">
      <h1>Create session</h1>
    </div>
    <div class="controls-container">
      <div class="common-control">
        <label for="roundDuration" class="input-label"> Round duration: </label>
        <input
          name="roundDuration"
          class="common-input"
          [(ngModel)]="quizConfiguration.roundDuration"
        />
      </div>
      <div class="common-control">
        <label for="maxPlayers" class="input-label"> Max players: </label>
        <input
          name="maxPlayers"
          class="common-input"
          [(ngModel)]="quizConfiguration.maxPlayers"
        />
      </div>
      <div class="common-control">
        <label for="streakMultiplier" class="input-label">
          Streak multiplier:
        </label>
        <input
          name="streakMultiplier"
          class="common-input"
          [(ngModel)]="quizConfiguration.streakMultiplier"
          type="text"
        />
      </div>
      <div class="common-control">
        <label for="timeMultiplier" class="input-label">
          Time Multiplier:
        </label>
        <input
          name="timeMultiplier"
          class="common-input"
          [(ngModel)]="quizConfiguration.timeMultiplier"
          type="text"
        />
      </div>
      <div class="common-control">
        <label for="answerIgnoreCase" class="input-label">
          Answer ignore case:
        </label>
        <input
          name="answerIgnoreCase"
          class="common-input"
          [(ngModel)]="quizConfiguration.answerIgnoreCase"
          type="checkbox"
        />
      </div>
      <div class="common-control-file">
        <label for="questionPack" class="input-label input-label-file">
          Upload Question Pack
        </label>
        <input
          name="questionPack"
          class="common-input"
          (change)="onQuestionPackChange($event)"
          type="file"
          [accept]="'.json'"
        />
      </div>
    </div>
    <div *ngIf="isShowValidationError" class="validation-error-container">
      <h3 class="validation-error-container-title">
        Invalid quiz configuration!
      </h3>
      <p class="validation-error">
        Round duration greater or equals 5 sec.<br />
        Max players greater or equals 1<br />
        Streak multiplier greater or equals 1<br />
        Time multiplier greater or equals 1<br />
        Question pack in JSON format
      </p>
    </div>
    <div *ngIf="errorMessage" class="validation-error-container">
      <p class="validation-error">{{ errorMessage }}</p>
    </div>
    <div class="buttons-container">
      <button mat-icon-button (click)="Back()">
        <mat-icon>home</mat-icon>
      </button>
      <button mat-icon-button (click)="createSession()">
        <mat-icon>videogame_asset</mat-icon>
      </button>
    </div>
  </div>
  <div *ngIf="quizConfiguration.questionPack" class="create-session-content">
    <div class="create-session-questions-container">
      <table class="table" style="color: rgb(201, 197, 192)">
        <thead>
          <tr>
            <th>Id</th>
            <th>Content</th>
            <th>Answer</th>
            <th>Reward</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let question of quizConfiguration.questionPack.questions">
            <td>{{ question.questionId }}</td>
            <td>{{ question.content.questionText || "blob image" }}</td>
            <td>{{ question.answer.answerContent }}</td>
            <td>{{ question.questionReward }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
